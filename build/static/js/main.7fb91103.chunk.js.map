{"version":3,"sources":["apis/streams.js","history.js","actions/index.js","actions/actionTypes.js","components/GoogleAuth.jsx","components/Header.jsx","components/streams/StreamForm.jsx","components/streams/StreamCreate.jsx","components/streams/StreamEdit.jsx","components/Modal.jsx","components/streams/StreamDelete.jsx","components/streams/StreamList.jsx","components/streams/StreamShow.jsx","components/App.js","reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","index.js"],"names":["createBrowserHistory","fetchStream","id","dispatch","a","axios","get","streams","response","type","payload","data","GoogleAuth","state","isSignedIn","onAuthChange","props","signIn","auth","currentUser","signOut","window","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","listen","this","onClick","className","renderAuthButton","React","Component","connect","userId","Header","to","StreamForm","renderInput","input","label","meta","error","touched","autoComplete","renderError","onSubmit","formValues","handleSubmit","Field","name","component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","getState","Da","userName","Ot","Cd","post","history","push","StreamEdit","editStream","match","params","stream","initialValues","_","pick","ownProps","patch","Modal","ReactDOM","createPortal","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","Fragment","deletetreams","renderContent","renderAction","delete","StreamList","fetchStreams","currentUserId","map","key","renderAdmin","style","fontSize","margin","class","textAlign","renderList","renderCreate","Object","values","StreamShow","videoRef","createRef","buildPlayer","player","destroy","flv","createPlayer","url","attachMediaElement","current","ref","width","controls","App","path","exact","INITIAL_STATE","combineReducers","action","formReducer","mapKeys","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render","getElementById"],"mappings":"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","file":"static/js/main.7fb91103.chunk.js","sourcesContent":["export default {\r\n    baseUrl: 'https://my-json-server.typicode.com/aravindSiruvuru05/streamy-db'\r\n}\r\n","import { createBrowserHistory } from 'history'; \r\nexport default createBrowserHistory();\r\n\r\n// Warning: Please use `require(\"history\").createBrowserHistory` instead of `require(\"history/createBrowserHistory\")`. Support for the latter will be removed in the next major release.\r\n\r\n// To fix, our history.js file should instead look like this:\r\n\r\n// import { createBrowserHistory } from 'history'; \r\n// export default createBrowserHistory();","import streams from '../apis/streams';\r\nimport axios from 'axios';\r\nimport { \r\n    SIGN_IN,\r\n    SIGN_OUT,\r\n    CREATE_STREAM,\r\n    FETCH_STREAMS,\r\n    FETCH_STREAM,\r\n    DELETE_STREAM,\r\n    EDIT_STREAM\r\n} from './actionTypes';\r\nimport history from '../history';\r\n\r\nexport const signIn = userId => {\r\n    return {\r\n        type: SIGN_IN,\r\n        payload:userId\r\n    }\r\n}\r\n\r\nexport const signOut = () => {\r\n    return {\r\n        type: SIGN_OUT\r\n    };\r\n};\r\n\r\nexport const createStream = formValues =>async (dispatch, getState) => {\r\n    const userId = getState().auth.userId.Da;\r\n    const userName =  getState().auth.userId.Ot.Cd;\r\n    const response = await axios.post(`${streams.baseUrl}/streams`,{...formValues, userId, userName});\r\n    dispatch({type:CREATE_STREAM, payload:response.data});\r\n    history.push('/');\r\n};\r\n\r\nexport const fetchStreams = () => async dispatch => {\r\n    const response = await axios.get(`${streams.baseUrl}/streams`);\r\n    dispatch({type: FETCH_STREAMS, payload: response.data})\r\n}\r\n\r\nexport const fetchStream = (id) => async dispatch => {\r\n    const response = await axios.get(`${streams.baseUrl}/streams/${id}`);\r\n    dispatch({type: FETCH_STREAM, payload: response.data});\r\n}\r\n \r\nexport const editStream = (id, formValues) => async dispatch => {\r\n    const response = await axios.patch(`${streams.baseUrl}/streams/${id}`,formValues);\r\n    dispatch({type: EDIT_STREAM, payload: response.data});\r\n    history.push('/');\r\n}\r\n\r\nexport const deletetreams = (id) => async dispatch => {\r\n    await axios.delete(`${streams.baseUrl}/streams/${id}`);\r\n    dispatch({type: DELETE_STREAM, payload: id});\r\n    history.push('/');\r\n}","export const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_OUT = 'SIGN_OUT';\r\nexport const CREATE_STREAM = 'CREATE_STREAM';\r\nexport const FETCH_STREAMS = 'FETCH_STREAMS';\r\nexport const FETCH_STREAM = 'FETCH_STREAM';\r\nexport const DELETE_STREAM = 'DELETE_STREAM';\r\nexport const EDIT_STREAM = 'EDIT_STREAM';\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { signIn,signOut } from '../actions';\r\n \r\nclass GoogleAuth extends React.Component{\r\n\r\n    state = { isSignedIn: null }\r\n\r\n    componentDidMount(){\r\n        //the google api script is added to index.html .. the script will be laded on to window \r\n        // so we use window object to initialise google client ... you can see these steps in console window\r\n\r\n        window.gapi.load('client:auth2', () => {\r\n            window.gapi.client.init({\r\n                clientId: '175974938762-7cqltpci3pmia9im0blj19sshbjm2fuh.apps.googleusercontent.com',\r\n                scope: 'email'\r\n            }).then(() => {\r\n                this.auth = window.gapi.auth2.getAuthInstance();\r\n                this.onAuthChange(this.auth.isSignedIn.get());\r\n                this.auth.isSignedIn.listen(this.onAuthChange);\r\n            });\r\n        });\r\n    }\r\n\r\n    onAuthChange = (isSignedIn) => {\r\n        if(isSignedIn){\r\n            this.props.signIn(this.auth.currentUser.get());\r\n        }else{\r\n            this.props.signOut();\r\n        }\r\n    }\r\n\r\n     renderAuthButton(){\r\n        if(this.props.isSignedIn === null){\r\n            return null;\r\n        }else if (this.props.isSignedIn){\r\n            return (\r\n                <button onClick={() => this.auth.signOut()} className=\"ui red google button\">\r\n                    <i className=\"google icon\"></i>\r\n                    Sign Out\r\n                </button>\r\n            );\r\n        }else{\r\n            return (\r\n                <button onClick={() => this.auth.signIn()} className=\"ui red google button\">\r\n                    <i className=\"google icon\"></i>\r\n                    Sign In with Google\r\n                </button>\r\n            );\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>{this.renderAuthButton()}</div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return { isSignedIn : state.auth.isSignedIn}\r\n};\r\n\r\nexport default connect(mapStateToProps, { signIn, signOut})(GoogleAuth);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport GoogleAuth from './GoogleAuth';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <div className=\"ui secondary pointing menu\">\r\n            <Link to=\"/\" className=\"item\">Streamy</Link>\r\n            <div className=\"right menu\">\r\n                <Link to=\"/\" className=\"item\">All Streams</Link>\r\n                <Link to=\"/\" className=\"item\">\r\n                    <GoogleAuth/>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\n\r\nclass StreamForm extends React.Component {\r\n\r\n    // renderInput(formProps) {\r\n    //     // return <input onChange={formProps.input.onChange} value={formProps.input.value}/>;\r\n    //     return <input {...formProps.input}/>;\r\n    // }\r\n\r\n\r\n    renderInput = ({input, label, meta}) => {\r\n        // return <input onChange={formProps.input.onChange} value={formProps.input.value}/>;\r\n       const className = `field ${meta.error && meta.touched ? 'error':''}`\r\n        return (\r\n            <div className={className}>\r\n                <label>{label}</label>\r\n                <input {...input} autoComplete=\"off\"/>\r\n                {this.renderError(meta)}\r\n            </div>  \r\n        ); \r\n    }\r\n\r\n    renderError ({ error, touched }) {\r\n        if(touched && error) {\r\n            return(\r\n                <div className=\"ui error message\">\r\n                    <div className=\"header\">{error}</div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    onSubmit = formValues => {\r\n        this.props.onSubmit(formValues);\r\n    }\r\n \r\n    render() {  \r\n        return (\r\n            <form onSubmit={this.props.handleSubmit(this.onSubmit)} className=\"ui form error\">\r\n                <Field name=\"title\" component={this.renderInput} label=\"Enter Title\"/>\r\n                <Field name=\"description\" component={this.renderInput} label=\"Enter Description\"/>\r\n                <button className=\"ui button primary\">Submit</button>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n    const errors ={};\r\n\r\n    if(!formValues.title){\r\n        errors.title =\"You must enter a title\";\r\n    }\r\n    if(!formValues.description){\r\n        errors.description =\"You must enter a description\";\r\n    }\r\n\r\n    return errors;\r\n}\r\n\r\nexport default  reduxForm({\r\n  form: 'streamForm',\r\n  validate: validate\r\n})(StreamForm);\r\n","import React from 'react';\r\nimport { createStream } from '../../actions';\r\nimport { connect } from 'react-redux';\r\nimport StreamForm from './StreamForm';\r\n\r\nclass StreamCreate extends React.Component {\r\n\r\n    onSubmit = (formValues) => {\r\n        this.props.createStream(formValues)\r\n    }\r\n\r\n    render() {  \r\n        return (\r\n            <div>\r\n                <h3>Create a Stream</h3>\r\n                <StreamForm onSubmit={this.onSubmit}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(null, { createStream })(StreamCreate)","import _ from 'lodash';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStream, editStream } from '../../actions';\r\nimport StreamForm from './StreamForm';\r\n\r\n\r\nclass StreamEdit extends React.Component{\r\n\r\n    componentDidMount(){\r\n        this.props.fetchStream(this.props.match.params.id);\r\n    }\r\n\r\n    onSubmit = (formValues) => {\r\n        this.props.editStream(this.props.match.params.id, formValues)\r\n    }\r\n\r\n    render(){\r\n        if(!this.props.stream){\r\n            return <div>Loading...</div>\r\n        }\r\n        return (\r\n            <div>\r\n                <h3>Edit a Stream</h3>\r\n                <StreamForm \r\n                    //first set of curly braces indicates we are writing js expresson and secon indicates js object\r\n                initialValues={_.pick(this.props.stream,'title','description')} \r\n                onSubmit={this.onSubmit}/>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return { stream: state.stream[ownProps.match.params.id] };\r\n}\r\nexport default connect(mapStateToProps, { fetchStream, editStream })(StreamEdit);\r\n","import React from \"react\";\r\nimport ReactDOM from 'react-dom';\r\n\r\nconst Modal = props => {\r\n    return ReactDOM.createPortal(\r\n        <div onClick={props.onDismiss} className=\"ui dimmer modals visible active\">\r\n            <div onClick={ e => e.stopPropagation()} className=\"ui standard modal visible active\">\r\n                <div className=\"header\">{props.title}</div>\r\n                <div className=\"content\">{props.content}</div>\r\n                <div className=\"actions\">\r\n                    {props.actions}\r\n                </div>\r\n            </div>\r\n        </div>,\r\n        document.querySelector('#modal')\r\n    );\r\n};\r\n\r\nexport default Modal;","import React from 'react';\r\nimport Modal from '../Modal';\r\nimport history from '../../history';\r\nimport { fetchStream, deletetreams } from '../../actions';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass StreamDelete extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.fetchStream(this.props.match.params.id);\r\n    }\r\n\r\n    renderAction() {\r\n\r\n        const { id } = this.props.match.params;\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                <button onClick={() => this.props.deletetreams(id)} className=\"ui negative button\">Delete</button>\r\n                <Link to=\"/\" className=\"ui button\">Cancel</Link>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    renderContent(){\r\n        if(!this.props.stream){\r\n            return 'Are you sure you want to delete this stream ?'\r\n        }\r\n\r\n        return `Are you sure you want to delete the stream with title: ${this.props.stream.title}`\r\n    }\r\n\r\n   render(){\r\n        return (\r\n            <Modal \r\n                title=\"Delete Stream\"\r\n                content={this.renderContent()}\r\n                actions={this.renderAction()}\r\n                onDismiss={() => history.push('/')}   />\r\n        );\r\n   }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {stream : state.stream[ownProps.match.params.id] }\r\n}\r\n\r\nexport default connect( mapStateToProps, { fetchStream, deletetreams } )(StreamDelete);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStreams } from '../../actions';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass StreamList extends React.Component {\r\n    componentDidMount(){\r\n        this.props.fetchStreams();\r\n    }\r\n\r\n    renderAdmin(stream){\r\n        if(!this.props.currentUserId) return\r\n        if(stream.userId === this.props.currentUserId.Da){\r\n            return (\r\n                <div className=\"right floated content\">\r\n                    <Link to={`/streams/edit/${stream.id}`} className=\"ui button primary\">Edit</Link>\r\n                    <Link to={`/streams/delete/${stream.id}`} className=\"ui button negative\">\r\n                        Delete\r\n                    </Link>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderList(){\r\n        return this.props.streams.map(stream =>{\r\n            return(\r\n                <div className=\"item\" key={stream.id}>\r\n                    {this.renderAdmin(stream)}\r\n                    <i className=\"large middle aligned icon camera\"/>\r\n                    <div className=\"content\">\r\n                        <Link to={`/streams/${stream.id}`} className=\"header\" style={{fontSize:'20px',margin:'5px'}}>{stream.title}</Link> \r\n                        <div style={{fontSize:'20px',margin:'10px'}} className=\"description\">{stream.description}</div>\r\n                        \r\n                        <a class=\"ui red tag label\">@ {stream.userName}</a>\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n    }\r\n\r\n    renderCreate(){\r\n        if(this.props.isSignedIn){\r\n            return (\r\n                <div style={{ textAlign: 'right' }}>\r\n                    <Link to=\"/streams/new\" className=\"ui button primary\">\r\n                        Create Stream\r\n                    </Link>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2>Streams</h2>\r\n                <div className=\"ui celled list\"> \r\n                {this.renderList()}\r\n                </div>\r\n                {this.renderCreate()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return { \r\n        streams: Object.values(state.stream),\r\n        currentUserId:state.auth.userId,\r\n        isSignedIn: state.auth.isSignedIn\r\n    };\r\n    \r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchStreams })(StreamList);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStream } from '../../actions';\r\nimport flv from 'flv.js';\r\n//flv is about downloading that video stream and converting into some file that can be palyed in html video tag  a bit like   .. \r\n// it is bit like axios reaches to some remote server get some data and server up our application\r\nclass StreamShow extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.videoRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount(){\r\n        const { id } = this.props.match.params;\r\n        this.props.fetchStream(id);\r\n        this.buildPlayer();\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        this.buildPlayer();\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.player.destroy();\r\n    }\r\n\r\n    buildPlayer(){\r\n        const { id } = this.props.match.params;\r\n\r\n        if(this.player || !this.props.stream){\r\n            return;\r\n        }\r\n\r\n        this.player = flv.createPlayer({\r\n            type:'flv',\r\n            url: `http://localhost:8000/live/${id}.flv`\r\n        });\r\n        // console.log(this.videoRef.current);\r\n        this.player.attachMediaElement(this.videoRef.current);\r\n        this.player.load();\r\n    }\r\n    \r\n    render(){\r\n        if(!this.props.stream){\r\n            return <div>loading...</div>\r\n        }\r\n\r\n        const { title , description } = this.props.stream;\r\n\r\n        return (\r\n            <div>\r\n                <video ref={this.videoRef} style={{width:'100%'}} controls={true}/>\r\n                <h1>{title}</h1>\r\n                <h5>{description}</h5>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return { stream: state.stream[ownProps.match.params.id]}\r\n}\r\nexport default connect( mapStateToProps, { fetchStream })(StreamShow);","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport Header from './Header';\nimport StreamCreate from './streams/StreamCreate';\nimport StreamEdit from './streams/StreamEdit';\nimport StreamDelete from './streams/StreamDelete';\nimport StreamList from './streams/StreamList';\nimport StreamShow from './streams/StreamShow';\nimport history from '../history';\n\n\nfunction App() {\n  return (\n    <div className=\"ui container\">\n      <Router history={history}>\n        <div>\n          <Header/>\n          <Switch>\n            <Route path=\"/\" exact component={StreamList}/>\n            <Route path=\"/streams/new\" exact component={StreamCreate}/>\n            <Route path=\"/streams/edit/:id\" exact component={StreamEdit}/>\n            <Route path=\"/streams/delete/:id\" exact component={StreamDelete}/>\n            <Route path=\"/streams/:id\" exact component={StreamShow}/>\n          </Switch>          \n        </div>\n      </Router>\n    </div>\n  );\n}\n  \nexport default App;\n","import { SIGN_IN, SIGN_OUT } from '../actions/actionTypes';\r\n\r\n\r\nconst INITIAL_STATE = { \r\n    isSignedIn: null,\r\n    userId: null\r\n};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n    switch(action.type){\r\n        case SIGN_IN:\r\n            return {...state,isSignedIn:true,userId:action.payload}\r\n        case SIGN_OUT:\r\n            return {...state, isSignedIn:false,userId:null}\r\n        default:\r\n            return state;\r\n    }\r\n};","import { combineReducers } from 'redux';\r\nimport authReducer from './authReducer';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport streamReducer from './streamReducer';\r\n\r\nexport default combineReducers({\r\n    auth : authReducer,\r\n    form : formReducer,\r\n    stream: streamReducer\r\n});","import _ from 'lodash';\r\nimport { \r\n    CREATE_STREAM,\r\n    FETCH_STREAMS,\r\n    FETCH_STREAM,\r\n    DELETE_STREAM,\r\n    EDIT_STREAM\r\n } from \"../actions/actionTypes\";\r\n\r\n export default (state={}, action) => {\r\n     switch (action.type) {\r\n        case FETCH_STREAMS:\r\n            return {...state,..._.mapKeys(action.payload, 'id')}\r\n        case FETCH_STREAM:\r\n            return {...state, [action.payload.id]: action.payload};\r\n        case CREATE_STREAM: \r\n            return {...state, [action.payload.id]: action.payload};\r\n        case EDIT_STREAM:\r\n            return {...state, [action.payload.id]: action.payload};\r\n        case DELETE_STREAM:\r\n            return _.omit(state,action.payload);\r\n        default:\r\n            return state;\r\n     }\r\n }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reducers from './reducers';\nimport reduxThunk from 'redux-thunk';\n\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose ;\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}